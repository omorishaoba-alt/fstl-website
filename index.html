<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FSTL – Retail Verification</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="FSTL – Retail verification, agent and client interface">
<style>
body{font-family:Arial,sans-serif;margin:0;background:#f4f4f4;color:#111;}
nav{background:#000;color:#fff;padding:12px;position:sticky;top:0;z-index:10;}
nav a{color:#fff;margin-right:12px;text-decoration:none;font-weight:bold;font-size:14px;}
section{background:#fff;margin:10px;padding:20px;border-radius:6px;}
h1,h2{margin-top:0;}
input,button{width:100%;padding:10px;margin:6px 0;}
button{background:#000;color:#fff;border:none;cursor:pointer;}
.box{background:#eee;padding:15px;border-radius:4px;}
footer{background:#000;color:#fff;text-align:center;padding:15px;font-size:13px;}
</style>
</head>
<body>

<nav>
<a href="#home">Home</a>
<a href="#agent">Agent ID</a>
<a href="#verify">Verify</a>
<a href="#search">Search</a>
<a href="#payment">Payment</a>
<a href="institution.html">Institution Portal</a>
</nav>

<section id="home">
<h1>FSTL – Retail Interface</h1>
<div class="box">
Input → Transaction → Output<br>
Zero Infrastructure • Bank-Centric • Silent Scale
</div>
</section>

<section id="agent">
<h2>Agent Identification</h2>
<input id="agentName" placeholder="Agent Full Name">
<button onclick="generateAgent()">Generate Agent ID</button>
<div class="box" id="agentResult"></div>
</section>

<section id="verify">
<h2>Transaction Verification</h2>
<input id="vAgent" placeholder="Agent ID">
<input id="vBuyer" placeholder="Buyer / Client Name">
<input id="vAmount" placeholder="Amount">
<input id="vBank" placeholder="Bank Reference">
<button onclick="generateVerification()">Generate Verification</button>
<div class="box" id="verificationResult"></div>
<div id="qr"></div>
<button onclick="generatePDF()">Download Receipt (PDF)</button>
</section>

<section id="search">
<h2>AI Verification Search</h2>
<input id="sAgent" placeholder="Agent ID">
<input id="sBuyer" placeholder="Buyer Name">
<input id="sAmount" placeholder="Amount">
<input id="sBank" placeholder="Bank Reference">
<button onclick="searchVerification()">Verify</button>
<div class="box" id="searchResult"></div>
</section>

<section id="payment">
<h2>Direct Bank Payment</h2>
<div class="box">
Account Name: First Standard Title Limited<br>
Bank: [YOUR BANK]<br>
Account Number: [XXXXXXX]<br>
Use Verification Code as narration
</div>
</section>

<footer>
© FSTL • Retail Layer • Digital Trust & Verification
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
// Core deterministic logic shared across layers
async function sha256(text){
 const data=new TextEncoder().encode(text);
 const hash=await crypto.subtle.digest("SHA-256",data);
 return Array.from(new Uint8Array(hash)).map(b=>b.toString(16).padStart(2,"0")).join("");
}
let currentVerification="";

// Generate Agent
async function generateAgent(){
 const name=document.getElementById("agentName").value.trim();
 if(!name){document.getElementById("agentResult").innerText="Enter name";return;}
 const y=new Date().getFullYear();
 const h=await sha256(name+y);
 document.getElementById("agentResult").innerHTML="<strong>Agent ID:</strong> AG-"+y+"-"+h.slice(0,5).toUpperCase();
}

// Generate Verification Code
async function generateVerification(){
 const raw=`FSTL|${document.getElementById("vAgent").value}|${document.getElementById("vBuyer").value}|${document.getElementById("vAmount").value}|${document.getElementById("vBank").value}`;
 const h=await sha256(raw);
 currentVerification="FSTL-"+h.slice(0,10).toUpperCase();
 document.getElementById("verificationResult").innerHTML="<strong>Verification Code:</strong> "+currentVerification;
 generateQR();
}

// QR Code
function generateQR(){
 document.getElementById("qr").innerHTML="";
new QRCode(document.getElementById("qr"),{text:location.origin+"/#search",width:120,height:120});
}

// AI Search
async function searchVerification(){
 const raw=`FSTL|${document.getElementById("sAgent").value}|${document.getElementById("sBuyer").value}|${document.getElementById("sAmount").value}|${document.getElementById("sBank").value}`;
 const h=await sha256(raw);
 document.getElementById("searchResult").innerHTML="<strong>Status:</strong> VERIFIED<br><strong>Reference:</strong> FSTL-"+h.slice(0,10).toUpperCase()+"<br><strong>Settlement:</strong> Bank Confirmed";
}

// PDF Receipts
function generatePDF(){
 const {jsPDF}=window.jspdf;
 const pdf=new jsPDF();
 pdf.setFontSize(14);
 pdf.text("FIRST STANDARD TITLE LIMITED",20,20);
 pdf.text("Verification Receipt",20,30);
 pdf.text("Agent ID: "+document.getElementById("vAgent").value,20,45);
 pdf.text("Buyer: "+document.getElementById("vBuyer").value,20,55);
 pdf.text("Amount: "+document.getElementById("vAmount").value,20,65);
 pdf.text("Bank Ref: "+document.getElementById("vBank").value,20,75);
 pdf.text("Verification Code:",20,90);
 pdf.text(currentVerification,20,100);
 pdf.save("FSTL-Receipt.pdf");
}
</script>
</body>
</html>
